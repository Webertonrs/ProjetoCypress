name: End-to-end tests üß™

on:
  push:
    branches:
      - main # Opcional: Especifique a branch principal (ou outras branches) para evitar que rode em todas as branches.

jobs:
  cypress-run:
    runs-on: ubuntu-latest # Recomendo 'ubuntu-latest' para usar a vers√£o mais recente do Ubuntu.

    steps:
      - name: Checkout
        uses: actions/checkout@v4 # Use a vers√£o mais recente da a√ß√£o de checkout.

      - name: Setup Node.js
        uses: actions/setup-node@v4 # Use a vers√£o mais recente da a√ß√£o de setup-node.
        with:
          node-version: '18' # Defina a vers√£o do Node.js que seu projeto usa (ex: '16', '18', '20').

      - name: Install dependencies
        run: npm ci # 'npm ci' √© prefer√≠vel para CI/CD, pois garante instala√ß√µes limpas baseadas no package-lock.json

      - name: Cypress run
        uses: cypress-io/github-action@v6 # Use a vers√£o mais recente da a√ß√£o do Cypress.
        with:
          # Voc√™ pode adicionar comandos espec√≠ficos aqui, se necess√°rio.
          # Por exemplo, para rodar testes Cypress em modo headless:
          # command: npx cypress run --record --key ${{ secrets.CYPRESS_RECORD_KEY }}
          # build: npm run build # Se seu projeto precisar de um build antes dos testes.
          # start: npm start # Se seu projeto precisar de um servidor rodando para os testes E2E.